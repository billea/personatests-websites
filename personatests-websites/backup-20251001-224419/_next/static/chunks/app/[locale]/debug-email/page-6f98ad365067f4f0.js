(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[868],{4630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var n=s(5155),a=s(2115),l=s(7550);function i(){let{currentLanguage:e}=(0,l.B)(),[t,i]=(0,a.useState)(""),[o,r]=(0,a.useState)("Test User"),[c,u]=(0,a.useState)(!1),[d,g]=(0,a.useState)([]),[h,m]=(0,a.useState)(""),b=e=>{console.log(e),g(t=>[...t,"".concat(new Date().toLocaleTimeString(),": ").concat(e)])},x=async()=>{if(!t||!t.includes("@"))return void m("❌ Please enter a valid email address");u(!0),g([]),m("\uD83D\uDD04 Testing email delivery...");try{b("\uD83E\uDDEA Starting email delivery test..."),b("\uD83D\uDCE6 Importing EmailJS...");let n=(await s.e(518).then(s.bind(s,5518))).default;b("✅ EmailJS imported successfully"),b("\uD83D\uDD27 Initializing EmailJS...");let a="bqGKo-dBalpy6MeZE";n.init(a),b("✅ EmailJS initialized with key: ".concat(a.substring(0,8),"...")),b("\uD83D\uDCDD Preparing email parameters...");let l={to_email:t,reviewer_name:t.split("@")[0],subject_name:o,relationship:"partner",feedback_url:"https://korean-mbti-platform.netlify.app/".concat(e,"/tests/couple-compatibility/"),assessment_areas:"Couple Compatibility Test",site_name:"Korean MBTI Platform"};b("\uD83D\uDCCB Email parameters:"),Object.entries(l).forEach(e=>{let[t,s]=e;b("   ".concat(t,": ").concat(s))}),b("\uD83D\uDCE7 Sending email via EmailJS...");let i="service_dc4y1ov",r="template_360_feedback_request";b("   Service ID: ".concat(i)),b("   Template ID: ".concat(r)),b("   Public Key: ".concat(a.substring(0,8),"..."));let c=await n.send(i,r,l,a);b("✅ Email sent successfully!"),b("\uD83D\uDCCA EmailJS Response: ".concat(JSON.stringify(c,null,2))),m("✅ Email sent successfully! Check your inbox.")}catch(e){b("❌ Error occurred: ".concat(e.message)),b("\uD83D\uDCCB Error details: ".concat(JSON.stringify(e,null,2))),e.text&&b("\uD83D\uDCE7 EmailJS error text: ".concat(e.text)),e.status&&b("\uD83D\uDD22 EmailJS status code: ".concat(e.status)),m("❌ Email failed: ".concat(e.message))}finally{u(!1)}},p=async()=>{g([]),b("\uD83D\uDD0D Testing EmailJS service connection...");try{let e=(await s.e(518).then(s.bind(s,5518))).default;b("✅ EmailJS library loaded"),e.init("bqGKo-dBalpy6MeZE"),b("✅ EmailJS initialized"),b("\uD83D\uDCCB EmailJS version and methods available:"),b("   emailjs.send: ".concat(typeof e.send)),b("   emailjs.init: ".concat(typeof e.init)),m("✅ EmailJS connection test passed")}catch(e){b("❌ EmailJS connection failed: ".concat(e.message)),m("❌ EmailJS connection failed: ".concat(e.message))}};return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-400 via-purple-500 to-purple-600 p-8",children:(0,n.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,n.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg shadow-lg p-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6 text-white text-center",children:"\uD83E\uDDEA Email Debug Tool"}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white/10 p-6 rounded-lg",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"\uD83D\uDCE7 Test Email Delivery"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-white font-medium mb-2",children:"Your Name:"}),(0,n.jsx)("input",{type:"text",value:o,onChange:e=>r(e.target.value),className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-white font-medium mb-2",children:"Test Email Address:"}),(0,n.jsx)("input",{type:"email",value:t,onChange:e=>i(e.target.value),className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email to test delivery"})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("button",{onClick:p,disabled:c,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:"\uD83D\uDD0D Test Connection"}),(0,n.jsx)("button",{onClick:x,disabled:c||!t,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:c?"⏳ Sending...":"\uD83D\uDCE7 Send Test Email"})]})]})]}),h&&(0,n.jsxs)("div",{className:"bg-white/10 p-4 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"\uD83D\uDCCA Status"}),(0,n.jsx)("p",{className:"text-white",children:h})]}),d.length>0&&(0,n.jsxs)("div",{className:"bg-black/30 p-6 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83D\uDC1B Debug Log"}),(0,n.jsx)("div",{className:"bg-black/50 p-4 rounded-lg font-mono text-sm max-h-96 overflow-y-auto",children:d.map((e,t)=>(0,n.jsx)("div",{className:"text-green-300 mb-1",children:e},t))})]}),(0,n.jsxs)("div",{className:"bg-white/10 p-6 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83D\uDCCB Instructions"}),(0,n.jsxs)("ul",{className:"text-white space-y-2",children:[(0,n.jsx)("li",{children:'1. First click "Test Connection" to verify EmailJS is working'}),(0,n.jsx)("li",{children:"2. Enter your email address to test delivery"}),(0,n.jsx)("li",{children:'3. Click "Send Test Email" to test the actual email sending'}),(0,n.jsx)("li",{children:"4. Check the debug log for detailed information"}),(0,n.jsx)("li",{children:"5. Check your email inbox (including spam folder)"})]})]}),(0,n.jsxs)("div",{className:"bg-white/10 p-6 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"⚙️ Current Configuration"}),(0,n.jsxs)("div",{className:"text-white font-mono text-sm space-y-1",children:[(0,n.jsx)("div",{children:"Service ID: service_dc4y1ov"}),(0,n.jsx)("div",{children:"Template ID: template_360_feedback_request"}),(0,n.jsx)("div",{children:"Public Key: bqGKo-dBalpy6MeZE"}),(0,n.jsxs)("div",{children:["Language: ",e]})]})]})]})]})})})}},5695:(e,t,s)=>{"use strict";var n=s(8999);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},7550:(e,t,s)=>{"use strict";s.d(t,{TranslationProvider:()=>c,B:()=>r});var n=s(5155),a=s(2115),l=s(5695);class i{async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";console.log("TranslationEngine init called with defaultLang:",e),await this.loadLanguage("en");let t=e||localStorage.getItem("selectedLanguage")||navigator.language.split("-")[0]||"en";console.log("TranslationEngine using language:",t),"en"!==t&&await this.loadLanguage(t),this.currentLanguage=t,this.applyAll(),this.observeDOMChanges()}async loadLanguage(e){try{let t="/translations/".concat(e,".json?v=").concat(new Date().getTime());console.log("Loading language ".concat(e," from:"),t);let s=await fetch(t,{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!s.ok)throw Error("Failed to load ".concat(e,".json: ").concat(s.status," ").concat(s.statusText));let n=await s.json();this.translations[e]=n,console.log("Successfully loaded ".concat(e," with ").concat(Object.keys(n).length," top-level keys"))}catch(t){console.error("Error loading language ".concat(e,":"),t)}}async setLanguage(e){await this.loadLanguage(e),this.currentLanguage=e,localStorage.setItem("selectedLanguage",e),this.applyAll()}t(e){if("results.strengths"===e&&console.log("\uD83D\uDE80 NEW TRANSLATION ENGINE LOADED - v5-FINAL-FIX-2025-10-01"),!this.translations[this.currentLanguage]&&!this.translations.en)return console.warn("Translation files not loaded yet for key: ".concat(e)),e;let t=e.split(".").reduce((e,t)=>null==e?void 0:e[t],this.translations[this.currentLanguage]);if(void 0===t&&void 0===(t=e.split(".").reduce((e,t)=>null==e?void 0:e[t],this.translations.en))){var s,n,a,l,i,o,r,c,u,d,g,h,m,b;console.log("\uD83D\uDD0D Translation missing for key: ".concat(e," in language: ").concat(this.currentLanguage)),console.log("\uD83D\uDD0D Available languages:",Object.keys(this.translations)),console.log("\uD83D\uDD0D Translation objects:",{currentLangExists:!!this.translations[this.currentLanguage],englishExists:!!this.translations.en,currentLangKeys:this.translations[this.currentLanguage]?Object.keys(this.translations[this.currentLanguage]):"none",englishKeys:this.translations.en?Object.keys(this.translations.en):"none"}),console.log("\uD83D\uDD0D FULL RESULTS OBJECT:",null==(s=this.translations.en)?void 0:s.results),console.log("\uD83D\uDD0D STRENGTHS KEY:",null==(a=this.translations.en)||null==(n=a.results)?void 0:n.strengths),console.log("\uD83D\uDD0D STRENGTH PREFIX KEY:",null==(i=this.translations.en)||null==(l=i.results)?void 0:l.strengthPrefix),e.includes("results.dimensions")&&console.log("\uD83D\uDD0D DEBUG results structure:",{currentLang:null==(o=this.translations[this.currentLanguage])?void 0:o.results,english:null==(r=this.translations.en)?void 0:r.results,dimensionsExist:!!(null==(u=this.translations.en)||null==(c=u.results)?void 0:c.dimensions),dimensionsKeys:Object.keys((null==(g=this.translations.en)||null==(d=g.results)?void 0:d.dimensions)||{}),specificKeyTest:null==(b=this.translations.en)||null==(m=b.results)||null==(h=m.dimensions)?void 0:h[e.split(".").pop()]})}return t||e}getTranslations(){return this.translations[this.currentLanguage]||this.translations.en||{}}applyAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;e.querySelectorAll("[data-translate]").forEach(e=>{let t=e.getAttribute("data-translate");e.textContent=this.t(t)})}observeDOMChanges(){new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&this.applyAll(e)})})}).observe(document.body,{childList:!0,subtree:!0})}constructor(){this.translations={},this.currentLanguage="en"}}let o=(0,a.createContext)(null),r=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useTranslation must be used within a TranslationProvider");return{t:t=>{let s=e.t(t);return s===t&&console.warn("Translation missing for key: ".concat(t," in language: ").concat(e.currentLanguage)),s},setLanguage:e.setLanguage.bind(e),currentLanguage:e.currentLanguage,translations:e.getTranslations()}},c=e=>{let{children:t}=e,[s,r]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[d,g]=(0,a.useState)(!1),[,h]=(0,a.useState)({}),m=(0,l.usePathname)();return((0,a.useEffect)(()=>{g(!0);let e=async()=>{let e=new i,t=m.split("/")[1],s=["en","ko","es","fr","de","it","ja","pt","zh"].includes(t)?t:"en";console.log("TranslationProvider initializing with language:",s,"from pathname:",m);let n=e.setLanguage.bind(e);e.setLanguage=async e=>{console.log("Changing language to:",e),await n(e),h({})},await e.init(s),console.log("Translation engine initialized. Current language:",e.currentLanguage),console.log("Available translations for current language:",Object.keys(e.translations[e.currentLanguage]||{})),console.log("Test translation - tests.page_title:",e.t("tests.page_title")),console.log("Test results.dimensions translation - E:",e.t("results.dimensions.E")),console.log("Test results.dimensions translation - 8:",e.t("results.dimensions.8")),console.log("Test results.dimensions translation - Self-Awareness:",e.t("results.dimensions.Self-Awareness")),r(e),u(!0)};u(!1),e()},[m]),d)?s&&c?(0,n.jsx)(o.Provider,{value:s,children:t}):(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-pulse text-gray-500",children:"Loading translations..."})}):null}},8511:(e,t,s)=>{Promise.resolve().then(s.bind(s,4630))}},e=>{e.O(0,[441,964,358],()=>e(e.s=8511)),_N_E=e.O()}]);