(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{5695:(e,t,s)=>{"use strict";var n=s(8999);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},7357:(e,t,s)=>{Promise.resolve().then(s.bind(s,9875))},7550:(e,t,s)=>{"use strict";s.d(t,{TranslationProvider:()=>c,B:()=>o});var n=s(5155),a=s(2115),l=s(5695);class i{async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";console.log("TranslationEngine init called with defaultLang:",e),await this.loadLanguage("en");let t=e||localStorage.getItem("selectedLanguage")||navigator.language.split("-")[0]||"en";console.log("TranslationEngine using language:",t),"en"!==t&&await this.loadLanguage(t),this.currentLanguage=t,this.applyAll(),this.observeDOMChanges()}async loadLanguage(e){try{let t="/translations/".concat(e,".json?v=").concat(new Date().getTime());console.log("Loading language ".concat(e," from:"),t);let s=await fetch(t,{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!s.ok)throw Error("Failed to load ".concat(e,".json: ").concat(s.status," ").concat(s.statusText));let n=await s.json();this.translations[e]=n,console.log("Successfully loaded ".concat(e," with ").concat(Object.keys(n).length," top-level keys"))}catch(t){console.error("Error loading language ".concat(e,":"),t)}}async setLanguage(e){await this.loadLanguage(e),this.currentLanguage=e,localStorage.setItem("selectedLanguage",e),this.applyAll()}t(e){if("results.strengths"===e&&console.log("\uD83D\uDE80 NEW TRANSLATION ENGINE LOADED - v4-FORCE-REFRESH-2025-10-01"),!this.translations[this.currentLanguage]&&!this.translations.en)return console.warn("Translation files not loaded yet for key: ".concat(e)),e;let t=e.split(".").reduce((e,t)=>null==e?void 0:e[t],this.translations[this.currentLanguage]);if(void 0===t&&void 0===(t=e.split(".").reduce((e,t)=>null==e?void 0:e[t],this.translations.en))){var s,n,a,l,i,r,o,c,d,u,h,g,m,b;console.log("\uD83D\uDD0D Translation missing for key: ".concat(e," in language: ").concat(this.currentLanguage)),console.log("\uD83D\uDD0D Available languages:",Object.keys(this.translations)),console.log("\uD83D\uDD0D Translation objects:",{currentLangExists:!!this.translations[this.currentLanguage],englishExists:!!this.translations.en,currentLangKeys:this.translations[this.currentLanguage]?Object.keys(this.translations[this.currentLanguage]):"none",englishKeys:this.translations.en?Object.keys(this.translations.en):"none"}),console.log("\uD83D\uDD0D FULL RESULTS OBJECT:",null==(s=this.translations.en)?void 0:s.results),console.log("\uD83D\uDD0D STRENGTHS KEY:",null==(a=this.translations.en)||null==(n=a.results)?void 0:n.strengths),console.log("\uD83D\uDD0D STRENGTH PREFIX KEY:",null==(i=this.translations.en)||null==(l=i.results)?void 0:l.strengthPrefix),e.includes("results.dimensions")&&console.log("\uD83D\uDD0D DEBUG results structure:",{currentLang:null==(r=this.translations[this.currentLanguage])?void 0:r.results,english:null==(o=this.translations.en)?void 0:o.results,dimensionsExist:!!(null==(d=this.translations.en)||null==(c=d.results)?void 0:c.dimensions),dimensionsKeys:Object.keys((null==(h=this.translations.en)||null==(u=h.results)?void 0:u.dimensions)||{}),specificKeyTest:null==(b=this.translations.en)||null==(m=b.results)||null==(g=m.dimensions)?void 0:g[e.split(".").pop()]})}return t||e}getTranslations(){return this.translations[this.currentLanguage]||this.translations.en||{}}applyAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;e.querySelectorAll("[data-translate]").forEach(e=>{let t=e.getAttribute("data-translate");e.textContent=this.t(t)})}observeDOMChanges(){new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&this.applyAll(e)})})}).observe(document.body,{childList:!0,subtree:!0})}constructor(){this.translations={},this.currentLanguage="en"}}let r=(0,a.createContext)(null),o=()=>{let e=(0,a.useContext)(r);if(!e)throw Error("useTranslation must be used within a TranslationProvider");return{t:t=>{let s=e.t(t);return s===t&&console.warn("Translation missing for key: ".concat(t," in language: ").concat(e.currentLanguage)),s},setLanguage:e.setLanguage.bind(e),currentLanguage:e.currentLanguage,translations:e.getTranslations()}},c=e=>{let{children:t}=e,[s,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[,g]=(0,a.useState)({}),m=(0,l.usePathname)();return((0,a.useEffect)(()=>{h(!0);let e=async()=>{let e=new i,t=m.split("/")[1],s=["en","ko","es","fr","de","it","ja","pt","zh"].includes(t)?t:"en";console.log("TranslationProvider initializing with language:",s,"from pathname:",m);let n=e.setLanguage.bind(e);e.setLanguage=async e=>{console.log("Changing language to:",e),await n(e),g({})},await e.init(s),console.log("Translation engine initialized. Current language:",e.currentLanguage),console.log("Available translations for current language:",Object.keys(e.translations[e.currentLanguage]||{})),console.log("Test translation - tests.page_title:",e.t("tests.page_title")),console.log("Test results.dimensions translation - E:",e.t("results.dimensions.E")),console.log("Test results.dimensions translation - 8:",e.t("results.dimensions.8")),console.log("Test results.dimensions translation - Self-Awareness:",e.t("results.dimensions.Self-Awareness")),o(e),d(!0)};d(!1),e()},[m]),u)?s&&c?(0,n.jsx)(r.Provider,{value:s,children:t}):(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-pulse text-gray-500",children:"Loading translations..."})}):null}},9875:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(5155),a=s(2115),l=s(5695),i=s(7550),r=s(3722);function o(){let{t:e}=(0,i.B)(),t=(0,l.useSearchParams)(),s=t.get("linkId"),o=t.get("data"),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),[g,m]=(0,a.useState)(!0),[b,x]=(0,a.useState)(null),[f,p]=(0,a.useState)(0),[w,v]=(0,a.useState)({}),[k,j]=(0,a.useState)(!1),[y,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S()},[s,o]);let S=async()=>{if(o)try{let e=JSON.parse(atob(o));if(new Date(e.expiresAt)<=new Date){x("This feedback link has expired."),m(!1);return}let t={id:"link_".concat(e.testResultId,"_decoded"),testResultId:e.testResultId,testId:e.testId,userId:e.userId,userName:e.userName,method:"link",createdAt:e.createdAt,expiresAt:e.expiresAt,status:"active",link:window.location.href,linkId:"link_".concat(e.testResultId,"_decoded"),responseCount:0,maxResponses:e.maxResponses,isPublic:!0};if(JSON.parse(localStorage.getItem("submitted_link_feedback")||"[]").some(t=>t.testResultId===e.testResultId&&t.testId===e.testId)){x("You have already provided feedback for this person."),m(!1);return}d(t);let s=(0,r.tb)(e.testId);if(!s){x("Test not found"),m(!1);return}h(s),m(!1);return}catch(e){x("Invalid feedback link format."),m(!1);return}if(!s){x("Invalid feedback link"),m(!1);return}try{let e=JSON.parse(localStorage.getItem("shareable_links")||"[]").find(e=>e.linkId===s&&"active"===e.status&&new Date(e.expiresAt)>new Date);if(!e){x("This feedback link is invalid or has expired."),m(!1);return}if(e.maxResponses&&e.responseCount>=e.maxResponses){x("This feedback link has reached its maximum response limit."),m(!1);return}if(JSON.parse(localStorage.getItem("submitted_link_feedback")||"[]").some(e=>e.linkId===s)){x("You have already provided feedback using this link."),m(!1);return}d(e);let t=(0,r.tb)(e.testId);if(!t){x("Test not found"),m(!1);return}h(t)}catch(e){x("Failed to load feedback form. Please try again.")}finally{m(!1)}},I=e=>{if(!u)return;let t=u.questions[f],s={...w,[t.id]:e};v(s),f<u.questions.length-1?p(f+1):L(s)},L=async e=>{if(c&&u){j(!0);try{let t=u.scoring(e),n={id:"link_feedback_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,8)),testResultId:c.testResultId,testId:c.testId,testOwnerId:c.userId,answers:e,result:t,submittedAt:new Date().toISOString(),method:"link",linkId:c.linkId,shareableLink:c.link},a=JSON.parse(localStorage.getItem("feedback_responses")||"[]");a.push(n),localStorage.setItem("feedback_responses",JSON.stringify(a));let l=JSON.parse(localStorage.getItem("submitted_link_feedback")||"[]");l.push({linkId:c.linkId,submittedAt:new Date().toISOString()}),localStorage.setItem("submitted_link_feedback",JSON.stringify(l));let i=JSON.parse(localStorage.getItem("shareable_links")||"[]").map(e=>e.linkId===s?{...e,responseCount:e.responseCount+1}:e);localStorage.setItem("shareable_links",JSON.stringify(i)),N(!0)}catch(e){x("Failed to submit feedback. Please try again.")}finally{j(!1)}}};if(g)return(0,n.jsx)("main",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-lg text-white",children:"Loading feedback form..."})]})});if(b)return(0,n.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full text-center p-8 bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"‚ùå"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Unable to Load Feedback"}),(0,n.jsx)("p",{className:"text-white/80 mb-6",children:b}),(0,n.jsx)("div",{className:"text-white/60 text-sm",children:(0,n.jsx)("p",{children:"Please check the link and try again, or contact the person who shared it."})})]})});if(y)return(0,n.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full text-center p-8 bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"‚úÖ"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Feedback Submitted!"}),(0,n.jsxs)("p",{className:"text-white/80 mb-6",children:["Thank you for providing anonymous feedback for ",null==c?void 0:c.userName,". Your insights will help with their personal and professional growth."]}),(0,n.jsxs)("div",{className:"text-white/60 text-sm",children:[(0,n.jsx)("p",{children:"‚Ä¢ Your response is completely anonymous"}),(0,n.jsx)("p",{children:"‚Ä¢ Results will be shared as aggregated insights"}),(0,n.jsx)("p",{children:"‚Ä¢ No individual responses can be traced back"})]})]})});if(!u||!c)return(0,n.jsx)("main",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-lg",children:"Loading..."})]})});let D=u.questions[f],T=(f+1)/u.questions.length*100;return(0,n.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:(0,n.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsx)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-sm border border-white/30 rounded-full text-white/80 text-sm mb-4",children:(0,n.jsx)("span",{children:"\uD83D\uDD17 Shared Feedback Link"})}),(0,n.jsxs)("h1",{className:"text-2xl font-bold text-white mb-2",children:["Anonymous Feedback for ",c.userName]}),(0,n.jsx)("p",{className:"text-white/80",children:"Your honest feedback will help with personal and professional growth"})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"flex justify-between text-white/80 text-sm mb-2",children:[(0,n.jsxs)("span",{children:["Question ",f+1," of ",u.questions.length]}),(0,n.jsxs)("span",{children:[Math.round(T),"% Complete"]})]}),(0,n.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,n.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(T,"%")}})})]}),(0,n.jsxs)("div",{className:"p-8 bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-white mb-6 text-center",children:e(D.text_key)}),"multiple_choice"===D.type&&D.options&&(0,n.jsx)("div",{className:"space-y-3",children:D.options.map(t=>(0,n.jsx)("button",{onClick:()=>I(t.value),className:"w-full p-4 text-left bg-white/20 hover:bg-white/30 border border-white/30 rounded-lg text-white transition-all duration-300 hover:scale-[1.02]",children:e(t.text_key)},t.value.toString()))}),"scale"===D.type&&D.scale&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between text-white/80 text-sm",children:[(0,n.jsx)("span",{children:e(D.scale.minLabel_key)}),(0,n.jsx)("span",{children:e(D.scale.maxLabel_key)})]}),(0,n.jsx)("div",{className:"flex gap-2 justify-center",children:Array.from({length:D.scale.max-D.scale.min+1},(e,t)=>(0,n.jsx)("button",{onClick:()=>I(D.scale.min+t),className:"w-12 h-12 bg-white/20 hover:bg-white/30 border border-white/30 rounded-lg text-white font-bold transition-all duration-300 hover:scale-110",children:D.scale.min+t},t))})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,n.jsx)("button",{onClick:()=>{f>0&&p(f-1)},disabled:0===f,className:"px-6 py-3 bg-white/20 hover:bg-white/30 disabled:bg-white/10 disabled:text-white/50 text-white rounded-lg transition-all duration-300",children:"‚Üê Previous"}),(0,n.jsx)("div",{className:"flex items-center text-white/60 text-sm",children:"Anonymous Response"})]})]}),(0,n.jsxs)("div",{className:"mt-6 p-4 bg-green-500/20 border border-green-400 rounded-lg",children:[(0,n.jsx)("h3",{className:"font-bold text-white mb-2",children:"\uD83D\uDD12 Your Privacy is Protected"}),(0,n.jsxs)("div",{className:"text-white/80 text-sm space-y-1",children:[(0,n.jsx)("p",{children:"‚Ä¢ Your responses are completely anonymous"}),(0,n.jsx)("p",{children:"‚Ä¢ No personal information is collected or stored"}),(0,n.jsx)("p",{children:"‚Ä¢ Results are aggregated with other feedback"}),(0,n.jsx)("p",{children:"‚Ä¢ Individual responses cannot be traced back to you"})]})]}),k&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg p-6 text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-white",children:"Submitting your anonymous feedback..."})]})})]})})}}},e=>{e.O(0,[722,441,964,358],()=>e(e.s=7357)),_N_E=e.O()}]);