(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{3955:(e,l,t)=>{Promise.resolve().then(t.bind(t,7570))},5695:(e,l,t)=>{"use strict";var s=t(8999);t.o(s,"useParams")&&t.d(l,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(l,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(l,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(l,{useSearchParams:function(){return s.useSearchParams}})},7570:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>o});var s=t(5155),a=t(2115),n=t(5695),r=t(9086),i=t(9509);function o(){let e=(0,n.useParams)().locale,[l,o]=(0,a.useState)(["test@example.com"]),[c,m]=(0,a.useState)("테스트사용자"),[d,u]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),[b,E]=(0,a.useState)(null),S=async()=>{console.log("=== TESTING EMAILJS WITHOUT AUTHENTICATION ==="),u(!0),E(null),x(null);try{let s="test-user-123",a="feedback-360",n="test-result-456",o=l.filter(e=>e.trim()&&e.includes("@")).map(e=>({name:e.split("@")[0],email:e})),m="general";console.log("Test parameters:",{testUserId:s,testId:a,testResultId:n,validEmails:o,userName:c.trim(),feedbackCategory:m,language:e});let d=await (0,r.Af)(s,a,n,o,c.trim(),m,e||"ko");if(console.log("EmailJS test result:",d),d.success&&d.invitations){console.log("=== TESTING ACTUAL EMAILJS SENDING ===");try{let e=(await t.e(518).then(t.bind(t,5518))).default;console.log("EmailJS Config Check:",{publicKey:i.env.NEXT_PUBLIC_EMAILJS_PUBLIC_KEY?"SET":"MISSING",serviceId:i.env.NEXT_PUBLIC_EMAILJS_SERVICE_ID?"SET":"MISSING",templateId:i.env.NEXT_PUBLIC_EMAILJS_TEMPLATE_ID?"SET":"MISSING"}),e.init(i.env.NEXT_PUBLIC_EMAILJS_PUBLIC_KEY||"MISSING_KEY");let l=d.invitations.map(async l=>{console.log("Sending test email to:",l.email);let t={to_email:l.email,to_name:l.email.split("@")[0],from_name:c.trim(),invitation_link:l.link};console.log("=== EMAILJS DEBUG ==="),console.log("EmailJS parameters:",t),console.log("Full invitation link being sent:",l.link),console.log("=== END EMAILJS DEBUG ===");try{let s=await e.send(i.env.NEXT_PUBLIC_EMAILJS_SERVICE_ID||"MISSING_SERVICE_ID",i.env.NEXT_PUBLIC_EMAILJS_TEMPLATE_ID||"MISSING_TEMPLATE_ID",t);return console.log("✅ Email sent successfully to:",l.email,s),{success:!0,email:l.email,result:s}}catch(e){return console.error("❌ Failed to send email to:",l.email,e),{success:!1,email:l.email,error:e}}}),s=await Promise.all(l);console.log("All email results:",s),x({...d,emailResults:s})}catch(e){console.error("EmailJS initialization error:",e),E("EmailJS Error: ".concat(e instanceof Error?e.message:"Unknown EmailJS error"))}}else x(d)}catch(e){console.error("EmailJS test error:",e),E(e instanceof Error?e.message:"Unknown error")}finally{u(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-400 via-purple-500 to-purple-600 flex items-center justify-center p-8",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl bg-white/20 backdrop-blur-sm rounded-xl p-8 shadow-xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-6 text-center",children:"EmailJS 테스트 (인증 우회)"}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white font-medium mb-2",children:"이름:"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>m(e.target.value),className:"w-full p-3 bg-white/10 border border-white/30 rounded text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"테스트할 사용자 이름"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white font-medium mb-2",children:"이메일 주소들:"}),l.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)("input",{type:"email",value:e,onChange:e=>((e,t)=>{let s=[...l];s[e]=t,o(s)})(t,e.target.value),className:"flex-1 p-3 bg-white/10 border border-white/30 rounded text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"이메일 주소 입력"}),l.length>1&&(0,s.jsx)("button",{onClick:()=>o(l.filter((e,l)=>l!==t)),className:"px-3 py-2 bg-red-500/20 text-white rounded hover:bg-red-500/30",children:"✕"})]},t)),(0,s.jsx)("button",{onClick:()=>{o([...l,""])},className:"px-4 py-2 bg-white/20 text-white rounded hover:bg-white/30 text-sm",children:"이메일 추가"})]}),(0,s.jsx)("button",{onClick:S,disabled:d,className:"w-full py-3 bg-green-500 text-white font-bold rounded-lg hover:bg-green-600 disabled:opacity-50 transition-all",children:d?"EmailJS 테스트 중...":"EmailJS 테스트 실행"}),b&&(0,s.jsxs)("div",{className:"p-4 bg-red-500/20 border border-red-500/30 rounded text-white",children:[(0,s.jsx)("h3",{className:"font-bold mb-2",children:"오류:"}),(0,s.jsx)("p",{children:b})]}),h&&(0,s.jsxs)("div",{className:"p-4 bg-green-500/20 border border-green-500/30 rounded text-white",children:[(0,s.jsx)("h3",{className:"font-bold mb-2",children:"결과:"}),(0,s.jsxs)("p",{className:"mb-2",children:["성공: ",h.success?"✅":"❌"]}),(0,s.jsxs)("p",{className:"mb-2",children:["초대장 전송: ",h.invitationsSent,"개"]}),h.invitations&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"생성된 링크들:"}),h.invitations.map((e,l)=>(0,s.jsxs)("div",{className:"mb-2 p-2 bg-black/20 rounded text-xs",children:[(0,s.jsxs)("p",{className:"text-yellow-300",children:["→ ",e.email]}),(0,s.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-300 hover:text-blue-100 break-all",children:e.link})]},l))]})]}),(0,s.jsxs)("div",{className:"text-center text-white/80 text-sm",children:[(0,s.jsx)("p",{children:"\uD83D\uDD0D 브라우저 콘솔을 확인하여 EmailJS 디버그 로그를 확인하세요"}),(0,s.jsx)("p",{children:"이 테스트는 Firebase 인증을 우회하여 EmailJS 기능만 테스트합니다"})]})]})]})})}}},e=>{e.O(0,[135,965,155,761,86,441,964,358],()=>e(e.s=3955)),_N_E=e.O()}]);