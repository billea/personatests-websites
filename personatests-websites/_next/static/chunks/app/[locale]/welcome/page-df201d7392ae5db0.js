(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{5695:(e,t,s)=>{"use strict";var n=s(8999);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},5832:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var n=s(5155),a=s(7200),l=s(7550),i=s(5695),r=s(2115);function o(){var e;let{user:t,loading:s}=(0,a.A)(),{t:o,currentLanguage:c}=(0,l.B)(),u=(0,i.useParams)(),d=(0,i.useRouter)(),g=(0,i.useSearchParams)(),h=u.locale,m=g.get("returnUrl"),x=g.get("context"),p=g.get("userName"),[b,v]=(0,r.useState)(!1),f=((null==t?void 0:t.displayName)||p||(null==t||null==(e=t.email)?void 0:e.split("@")[0])||"User").split(" ")[0],y="feedback-360-test"===x,j="couple-compatibility-test"===x;return((0,r.useEffect)(()=>{s||t&&m||d.push("/".concat(h))},[t,s,m,h,d]),s)?(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-400 via-purple-500 to-purple-600 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-white mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-lg text-white",children:"Loading..."})]})}):(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-400 via-purple-500 to-purple-600 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"max-w-lg w-full bg-white/95 backdrop-blur-sm border border-white/30 rounded-lg shadow-lg p-8 text-center",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("div",{className:"text-6xl mb-4 animate-bounce",children:"\uD83D\uDC4B"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"ko"===c?"안녕하세요, ".concat(f,"님!"):"Welcome, ".concat(f,"!")}),(0,n.jsx)("p",{className:"text-lg text-gray-600",children:"ko"===c?"로그인해 주셔서 감사합니다!":"Thank you for signing in!"})]})]}),y?(0,n.jsxs)("div",{className:"mb-8 p-6 bg-blue-50 rounded-lg",children:[(0,n.jsx)("div",{className:"text-4xl mb-3",children:"\uD83C\uDFAF"}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-blue-800 mb-3",children:"ko"===c?"360\xb0 피드백 테스트":"360\xb0 Feedback Test"}),(0,n.jsx)("p",{className:"text-blue-700 leading-relaxed",children:"ko"===c?"이제 다면적 피드백 테스트를 시작할 준비가 되었습니다. 이 테스트를 통해 자신에 대한 새로운 통찰을 얻고, 다른 사람들이 당신을 어떻게 보는지 알아보세요.":"You're now ready to begin your comprehensive 360\xb0 feedback assessment. This test will give you valuable insights into how others perceive you and help you understand yourself better."})]}):j?(0,n.jsxs)("div",{className:"mb-8 p-6 bg-pink-50 rounded-lg",children:[(0,n.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDC95"}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-pink-800 mb-3",children:"ko"===c?"커플 궁합 테스트":"Couple Compatibility Test"}),(0,n.jsx)("p",{className:"text-pink-700 leading-relaxed",children:"ko"===c?"이제 파트너와의 궁합 테스트를 시작할 준비가 되었습니다. 이 테스트를 통해 두 사람의 관계에 대한 깊은 통찰을 얻고, 더 나은 소통과 이해를 위한 가이드를 제공받으세요.":"You're now ready to discover your compatibility with your partner. This comprehensive test will provide deep insights into your relationship and guide you toward better communication and understanding."})]}):(0,n.jsxs)("div",{className:"mb-8 p-6 bg-green-50 rounded-lg",children:[(0,n.jsx)("div",{className:"text-4xl mb-3",children:"✨"}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-green-800 mb-3",children:"ko"===c?"개인화된 테스트 경험":"Personalized Testing Experience"}),(0,n.jsx)("p",{className:"text-green-700 leading-relaxed",children:"ko"===c?"이제 당신만의 맞춤형 테스트 경험을 시작할 수 있습니다. 결과가 안전하게 저장되며 언제든지 다시 확인할 수 있습니다.":"You can now enjoy a personalized testing experience. Your results will be securely saved and you can access them anytime."})]}),(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsx)("button",{onClick:()=>{m&&(v(!0),d.push(m))},disabled:b,className:"w-full py-4 px-6 rounded-lg font-semibold text-lg transition-all duration-300 ".concat(b?"bg-gray-400 text-white cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105"),children:b?(0,n.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,n.jsx)("span",{children:"ko"===c?"이동 중...":"Redirecting..."})]}):"ko"===c?"계속하기":"Continue"})}),(0,n.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-700 mb-3",children:"ko"===c?"계정의 이점:":"Your Account Benefits:"}),(0,n.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2",children:[(0,n.jsxs)("li",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-green-500",children:"✓"}),"ko"===c?"결과가 안전하게 저장됩니다":"Results are securely saved"]}),(0,n.jsxs)("li",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-green-500",children:"✓"}),"ko"===c?"진행 상황을 추적할 수 있습니다":"Track your progress"]}),(0,n.jsxs)("li",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-green-500",children:"✓"}),"ko"===c?"언제든지 결과를 다시 확인할 수 있습니다":"Access results anytime"]}),y&&(0,n.jsxs)("li",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-green-500",children:"✓"}),"ko"===c?"피드백 알림을 받습니다":"Get feedback notifications"]}),j&&(0,n.jsxs)("li",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-green-500",children:"✓"}),"ko"===c?"파트너 초대 및 결과 공유":"Invite partner and share results"]})]})]})]})})}},6065:(e,t,s)=>{Promise.resolve().then(s.bind(s,5832))},7200:(e,t,s)=>{"use strict";s.d(t,{A:()=>u,AuthProvider:()=>d});var n=s(5155),a=s(2115),l=s(5404),i=s(5695),r=s(6104),o=s(9086);let c=(0,a.createContext)(void 0),u=()=>{let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},d=e=>{let{children:t}=e,[s,u]=(0,a.useState)(null),[d,g]=(0,a.useState)(!0),h=(0,i.useRouter)();return(0,a.useEffect)(()=>{let e=(0,l.hg)(r.j,async e=>{if(e){if(!e.providerData.some(e=>"google.com"===e.providerId)&&!e.emailVerified){console.log("\uD83D\uDEA8 AuthProvider: Blocking unverified email user:",e.email),console.log("\uD83D\uDCE7 Email verification status:",e.emailVerified),await (0,l.CI)(r.j),u(null),g(!1);return}console.log("✅ AuthProvider: User verified, proceeding:",e.email);try{await (0,o.sM)(e)}catch(e){console.warn("Firebase permissions issue - continuing without profile creation:",e)}if(!s&&e){let t=localStorage.getItem("auth_return_url"),s=localStorage.getItem("auth_return_context");if(t&&("feedback-360-test"===s||"couple-compatibility-test"===s)){localStorage.removeItem("auth_return_url"),localStorage.removeItem("auth_return_context"),console.log("User logged in, preparing greeting before ".concat(s));let n=t.match(/\/([a-z]{2})\//),a=n?n[1]:"en";setTimeout(()=>{h.push("/".concat(a,"/welcome?returnUrl=").concat(encodeURIComponent(t),"&context=").concat(s,"&userName=").concat(encodeURIComponent(e.displayName||e.email||"User")))},100)}}}u(e),g(!1)});return()=>e()},[s,h]),(0,n.jsx)(c.Provider,{value:{user:s,loading:d},children:!d&&t})}},7550:(e,t,s)=>{"use strict";s.d(t,{TranslationProvider:()=>c,B:()=>o});var n=s(5155),a=s(2115),l=s(5695);class i{async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";console.log("TranslationEngine init called with defaultLang:",e),await this.loadLanguage("en");let t=e||localStorage.getItem("selectedLanguage")||navigator.language.split("-")[0]||"en";console.log("TranslationEngine using language:",t),"en"!==t&&await this.loadLanguage(t),this.currentLanguage=t,this.applyAll(),this.observeDOMChanges()}async loadLanguage(e){try{let t="compatibility-fix-".concat(Date.now(),"-").concat(Math.random()),s="/translations/".concat(e,".json?v=").concat(t);console.log("\uD83D\uDE80 CACHE-BUST Loading language ".concat(e," from:"),s);let n=await fetch(s,{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!n.ok)throw Error("Failed to load ".concat(e,".json: ").concat(n.status," ").concat(n.statusText));let a=await n.json();this.translations[e]=a,console.log("Successfully loaded ".concat(e," with ").concat(Object.keys(a).length," top-level keys")),a.results&&a.results.dimensions&&console.log("\uD83D\uDD0D COMPATIBILITY KEYS CHECK:",{compatibilityExists:!!a.results.dimensions.compatibility,personalityExists:!!a.results.dimensions.personality,compatibilityValue:a.results.dimensions.compatibility,personalityValue:a.results.dimensions.personality})}catch(t){console.error("Error loading language ".concat(e,":"),t)}}async setLanguage(e){await this.loadLanguage(e),this.currentLanguage=e,localStorage.setItem("selectedLanguage",e),this.applyAll()}t(e){if("results.strengths"===e&&console.log("\uD83D\uDE80 NEW TRANSLATION ENGINE LOADED - v6-COMPATIBILITY-FIX-2025-10-04"),!this.translations[this.currentLanguage]&&!this.translations.en)return console.warn("Translation files not loaded yet for key: ".concat(e)),e;let t=e.split(".").reduce((e,t)=>null==e?void 0:e[t],this.translations[this.currentLanguage]);if(void 0===t&&void 0===(t=e.split(".").reduce((e,t)=>null==e?void 0:e[t],this.translations.en))){var s,n,a,l,i,r,o,c,u,d,g,h,m,x;console.log("\uD83D\uDD0D Translation missing for key: ".concat(e," in language: ").concat(this.currentLanguage)),console.log("\uD83D\uDD0D Available languages:",Object.keys(this.translations)),console.log("\uD83D\uDD0D Translation objects:",{currentLangExists:!!this.translations[this.currentLanguage],englishExists:!!this.translations.en,currentLangKeys:this.translations[this.currentLanguage]?Object.keys(this.translations[this.currentLanguage]):"none",englishKeys:this.translations.en?Object.keys(this.translations.en):"none"}),console.log("\uD83D\uDD0D FULL RESULTS OBJECT:",null==(s=this.translations.en)?void 0:s.results),console.log("\uD83D\uDD0D STRENGTHS KEY:",null==(a=this.translations.en)||null==(n=a.results)?void 0:n.strengths),console.log("\uD83D\uDD0D STRENGTH PREFIX KEY:",null==(i=this.translations.en)||null==(l=i.results)?void 0:l.strengthPrefix),e.includes("results.dimensions")&&console.log("\uD83D\uDD0D DEBUG results.dimensions structure for key: ".concat(e,":"),{fullKey:e,keyParts:e.split("."),lastPart:e.split(".").pop(),currentLang:null==(r=this.translations[this.currentLanguage])?void 0:r.results,english:null==(o=this.translations.en)?void 0:o.results,dimensionsExist:!!(null==(u=this.translations.en)||null==(c=u.results)?void 0:c.dimensions),dimensionsKeys:Object.keys((null==(g=this.translations.en)||null==(d=g.results)?void 0:d.dimensions)||{}),specificKeyTest:null==(x=this.translations.en)||null==(m=x.results)||null==(h=m.dimensions)?void 0:h[e.split(".").pop()],fullLookupResult:e.split(".").reduce((e,t)=>null==e?void 0:e[t],this.translations.en)})}return t||e}getTranslations(){return this.translations[this.currentLanguage]||this.translations.en||{}}applyAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;e.querySelectorAll("[data-translate]").forEach(e=>{let t=e.getAttribute("data-translate");e.textContent=this.t(t)})}observeDOMChanges(){new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&this.applyAll(e)})})}).observe(document.body,{childList:!0,subtree:!0})}constructor(){this.translations={},this.currentLanguage="en"}}let r=(0,a.createContext)(null),o=()=>{let e=(0,a.useContext)(r);if(!e)throw Error("useTranslation must be used within a TranslationProvider");return{t:t=>{let s=e.t(t);return s===t&&console.warn("Translation missing for key: ".concat(t," in language: ").concat(e.currentLanguage)),s},setLanguage:e.setLanguage.bind(e),currentLanguage:e.currentLanguage,translations:e.getTranslations()}},c=e=>{let{children:t}=e,[s,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[d,g]=(0,a.useState)(!1),[,h]=(0,a.useState)({}),m=(0,l.usePathname)();return((0,a.useEffect)(()=>{g(!0);let e=async()=>{let e=new i,t=m.split("/")[1],s=["en","ko","es","fr","de","it","ja","pt","zh"].includes(t)?t:"en";console.log("TranslationProvider initializing with language:",s,"from pathname:",m);let n=e.setLanguage.bind(e);e.setLanguage=async e=>{console.log("Changing language to:",e),await n(e),h({})},await e.init(s),console.log("Translation engine initialized. Current language:",e.currentLanguage),console.log("Available translations for current language:",Object.keys(e.translations[e.currentLanguage]||{})),console.log("Test translation - tests.page_title:",e.t("tests.page_title")),console.log("Test results.dimensions translation - E:",e.t("results.dimensions.E")),console.log("Test results.dimensions translation - 8:",e.t("results.dimensions.8")),console.log("Test results.dimensions translation - Self-Awareness:",e.t("results.dimensions.Self-Awareness")),o(e),u(!0)};u(!1),e()},[m]),d)?s&&c?(0,n.jsx)(r.Provider,{value:s,children:t}):(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-pulse text-gray-500",children:"Loading translations..."})}):null}}},e=>{e.O(0,[135,965,155,761,86,441,964,358],()=>e(e.s=6065)),_N_E=e.O()}]);