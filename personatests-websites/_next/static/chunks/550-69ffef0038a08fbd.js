"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{7550:(n,s,t)=>{t.d(s,{TranslationProvider:()=>u,B:()=>r});var e=t(5155),a=t(2115),i=t(5695);class l{async init(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";console.log("\uD83D\uDE80 CACHE-FIX TranslationEngine v6-COMPATIBILITY-FIX-2025-10-04 init called with defaultLang:",n),await this.loadLanguage("en");let s=n||localStorage.getItem("selectedLanguage")||navigator.language.split("-")[0]||"en";console.log("TranslationEngine using language:",s),"en"!==s&&await this.loadLanguage(s),this.currentLanguage=s,this.applyAll(),this.observeDOMChanges()}async loadLanguage(n){try{let s="compatibility-fix-".concat(Date.now(),"-").concat(Math.random()),t="/translations/".concat(n,".json?v=").concat(s);console.log("\uD83D\uDE80 CACHE-BUST Loading language ".concat(n," from:"),t);let e=await fetch(t,{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!e.ok)throw Error("Failed to load ".concat(n,".json: ").concat(e.status," ").concat(e.statusText));let a=await e.json();this.translations[n]=a,console.log("Successfully loaded ".concat(n," with ").concat(Object.keys(a).length," top-level keys")),a.results&&a.results.dimensions&&console.log("\uD83D\uDD0D COMPATIBILITY KEYS CHECK:",{compatibilityExists:!!a.results.dimensions.compatibility,personalityExists:!!a.results.dimensions.personality,compatibilityValue:a.results.dimensions.compatibility,personalityValue:a.results.dimensions.personality})}catch(s){console.error("Error loading language ".concat(n,":"),s)}}async setLanguage(n){await this.loadLanguage(n),this.currentLanguage=n,localStorage.setItem("selectedLanguage",n),this.applyAll()}t(n){if("results.strengths"===n&&console.log("\uD83D\uDE80 NEW TRANSLATION ENGINE LOADED - v6-COMPATIBILITY-FIX-2025-10-04"),!this.translations[this.currentLanguage]&&!this.translations.en)return console.warn("Translation files not loaded yet for key: ".concat(n)),n;let s=n.split(".").reduce((n,s)=>null==n?void 0:n[s],this.translations[this.currentLanguage]);if(void 0===s&&void 0===(s=n.split(".").reduce((n,s)=>null==n?void 0:n[s],this.translations.en))){var t,e,a,i,l,o,r,u,c,g,d,h,y,m,p,L,E,v,T,b,D,f,C,I,O,w,A,S,k,P,j;if(console.log("\uD83D\uDD0D Translation missing for key: ".concat(n," in language: ").concat(this.currentLanguage)),console.log("\uD83D\uDD0D Available languages:",Object.keys(this.translations)),console.log("\uD83D\uDD0D Translation objects:",{currentLangExists:!!this.translations[this.currentLanguage],englishExists:!!this.translations.en,currentLangKeys:this.translations[this.currentLanguage]?Object.keys(this.translations[this.currentLanguage]):"none",englishKeys:this.translations.en?Object.keys(this.translations.en):"none"}),console.log("\uD83D\uDD0D FULL RESULTS OBJECT:",null==(t=this.translations.en)?void 0:t.results),console.log("\uD83D\uDD0D STRENGTHS KEY:",null==(a=this.translations.en)||null==(e=a.results)?void 0:e.strengths),console.log("\uD83D\uDD0D STRENGTH PREFIX KEY:",null==(l=this.translations.en)||null==(i=l.results)?void 0:i.strengthPrefix),n.includes("results.dimensions")&&(console.log("\uD83D\uDD0D DEBUG results.dimensions structure for key: ".concat(n,":"),{fullKey:n,keyParts:n.split("."),lastPart:n.split(".").pop(),currentLang:null==(o=this.translations[this.currentLanguage])?void 0:o.results,english:null==(r=this.translations.en)?void 0:r.results,dimensionsExist:!!(null==(c=this.translations.en)||null==(u=c.results)?void 0:u.dimensions),dimensionsKeys:Object.keys((null==(d=this.translations.en)||null==(g=d.results)?void 0:g.dimensions)||{}),specificKeyTest:null==(m=this.translations.en)||null==(y=m.results)||null==(h=y.dimensions)?void 0:h[n.split(".").pop()],fullLookupResult:n.split(".").reduce((n,s)=>null==n?void 0:n[s],this.translations.en),fullTranslationObj:this.translations.en}),"results.dimensions.compatibility"===n||"results.dimensions.personality"===n)){console.log("\uD83D\uDEA8 COUPLE COMPATIBILITY KEY DEBUG for ".concat(n,":"),{translationsLoaded:!!this.translations.en,resultsExist:!!(null==(p=this.translations.en)?void 0:p.results),dimensionsExist:!!(null==(E=this.translations.en)||null==(L=E.results)?void 0:L.dimensions),compatibilityKey:null==(b=this.translations.en)||null==(T=b.results)||null==(v=T.dimensions)?void 0:v.compatibility,personalityKey:null==(C=this.translations.en)||null==(f=C.results)||null==(D=f.dimensions)?void 0:D.personality,allDimensionKeys:(null==(O=this.translations.en)||null==(I=O.results)?void 0:I.dimensions)?Object.keys(this.translations.en.results.dimensions):"none",firstFewDimensionEntries:(null==(A=this.translations.en)||null==(w=A.results)?void 0:w.dimensions)?Object.entries(this.translations.en.results.dimensions).slice(0,10):"none",rawDimensionsObject:null==(k=this.translations.en)||null==(S=k.results)?void 0:S.dimensions});let s=null==(j=this.translations.en)||null==(P=j.results)?void 0:P.dimensions;s&&console.log("\uD83D\uDD0D SEARCHING FOR COMPATIBILITY KEYS:",{hasCompatibility:"compatibility"in s,hasPersonality:"personality"in s,compatibilityVariants:[s.compatibility,s.Compatibility,s.COMPATIBILITY,s["compatibility-readiness"],s.compatibilityReadiness],personalityVariants:[s.personality,s.Personality,s.PERSONALITY,s["personality-score"],s.personalityScore]})}}return s||n}getTranslations(){return this.translations[this.currentLanguage]||this.translations.en||{}}applyAll(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;n.querySelectorAll("[data-translate]").forEach(n=>{let s=n.getAttribute("data-translate");n.textContent=this.t(s)})}observeDOMChanges(){new MutationObserver(n=>{n.forEach(n=>{n.addedNodes.forEach(n=>{1===n.nodeType&&this.applyAll(n)})})}).observe(document.body,{childList:!0,subtree:!0})}constructor(){this.translations={},this.currentLanguage="en"}}let o=(0,a.createContext)(null),r=()=>{let n=(0,a.useContext)(o);if(!n)throw Error("useTranslation must be used within a TranslationProvider");return{t:s=>{let t=n.t(s);return t===s&&console.warn("Translation missing for key: ".concat(s," in language: ").concat(n.currentLanguage)),t},setLanguage:n.setLanguage.bind(n),currentLanguage:n.currentLanguage,translations:n.getTranslations()}},u=n=>{let{children:s}=n,[t,r]=(0,a.useState)(null),[u,c]=(0,a.useState)(!1),[g,d]=(0,a.useState)(!1),[,h]=(0,a.useState)({}),y=(0,i.usePathname)();return((0,a.useEffect)(()=>{d(!0);let n=async()=>{let n=new l,s=y.split("/")[1],t=["en","ko","es","fr","de","it","ja","pt","zh"].includes(s)?s:"en";console.log("TranslationProvider initializing with language:",t,"from pathname:",y);let e=n.setLanguage.bind(n);n.setLanguage=async n=>{console.log("Changing language to:",n),await e(n),h({})},await n.init(t),console.log("Translation engine initialized. Current language:",n.currentLanguage),console.log("Available translations for current language:",Object.keys(n.translations[n.currentLanguage]||{})),console.log("Test translation - tests.page_title:",n.t("tests.page_title")),console.log("Test results.dimensions translation - E:",n.t("results.dimensions.E")),console.log("Test results.dimensions translation - 8:",n.t("results.dimensions.8")),console.log("Test results.dimensions translation - Self-Awareness:",n.t("results.dimensions.Self-Awareness")),r(n),c(!0)};c(!1),n()},[y]),g)?t&&u?(0,e.jsx)(o.Provider,{value:t,children:s}):(0,e.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,e.jsx)("div",{className:"animate-pulse text-gray-500",children:"Loading translations..."})}):null}}}]);